// Code generated by sqlc. DO NOT EDIT.
// source: daftar_keluarga.sql

package repository

import (
	"context"
	"database/sql"
)

const getChildrenByEmployeeID = `-- name: GetChildrenByEmployeeID :many
SELECT
    a.nama,
    a.jenis_kelamin,
    a.tanggal_lahir,
    pas.nama AS nama_pasangan,
    a.status_anak,
    a.pns_id
FROM
    anak a
LEFT JOIN
    pasangan pas ON a.pasangan_id = pas.id
WHERE
    a.pns_id = $1
`

type GetChildrenByEmployeeIDRow struct {
	Nama         sql.NullString `db:"nama"`
	JenisKelamin sql.NullString `db:"jenis_kelamin"`
	TanggalLahir sql.NullTime   `db:"tanggal_lahir"`
	NamaPasangan sql.NullString `db:"nama_pasangan"`
	StatusAnak   sql.NullString `db:"status_anak"`
	PnsID        sql.NullString `db:"pns_id"`
}

func (q *Queries) GetChildrenByEmployeeID(ctx context.Context, pnsID sql.NullString) ([]GetChildrenByEmployeeIDRow, error) {
	rows, err := q.db.Query(ctx, getChildrenByEmployeeID, pnsID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetChildrenByEmployeeIDRow
	for rows.Next() {
		var i GetChildrenByEmployeeIDRow
		if err := rows.Scan(
			&i.Nama,
			&i.JenisKelamin,
			&i.TanggalLahir,
			&i.NamaPasangan,
			&i.StatusAnak,
			&i.PnsID,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getEmployeeFamilyData = `-- name: GetEmployeeFamilyData :one
SELECT
    p.nama AS nama_pegawai,
    p.id AS pns_id
FROM
    pegawai p
WHERE
    p.id = $1
`

type GetEmployeeFamilyDataRow struct {
	NamaPegawai sql.NullString `db:"nama_pegawai"`
	PnsID       int32          `db:"pns_id"`
}

func (q *Queries) GetEmployeeFamilyData(ctx context.Context, id int32) (GetEmployeeFamilyDataRow, error) {
	row := q.db.QueryRow(ctx, getEmployeeFamilyData, id)
	var i GetEmployeeFamilyDataRow
	err := row.Scan(&i.NamaPegawai, &i.PnsID)
	return i, err
}

const getParentsByEmployeeID = `-- name: GetParentsByEmployeeID :many
SELECT
    ot.nama,
    ot.tgl_meninggal,
    ot.no_dokumen AS nik,
    ra.nama AS agama,
    ot.hubungan,
    ot.pns_id
FROM
    orang_tua ot
LEFT JOIN
    ref_agama ra ON ot.agama_id = ra.id
WHERE
    ot.pns_id = $1
`

type GetParentsByEmployeeIDRow struct {
	Nama         sql.NullString `db:"nama"`
	TglMeninggal sql.NullTime   `db:"tgl_meninggal"`
	Nik          sql.NullString `db:"nik"`
	Agama        sql.NullString `db:"agama"`
	Hubungan     sql.NullInt16  `db:"hubungan"`
	PnsID        sql.NullString `db:"pns_id"`
}

func (q *Queries) GetParentsByEmployeeID(ctx context.Context, pnsID sql.NullString) ([]GetParentsByEmployeeIDRow, error) {
	rows, err := q.db.Query(ctx, getParentsByEmployeeID, pnsID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetParentsByEmployeeIDRow
	for rows.Next() {
		var i GetParentsByEmployeeIDRow
		if err := rows.Scan(
			&i.Nama,
			&i.TglMeninggal,
			&i.Nik,
			&i.Agama,
			&i.Hubungan,
			&i.PnsID,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getSpouseByEmployeeID = `-- name: GetSpouseByEmployeeID :one
SELECT
    p.nama,
    p.pns,
    p.karsus AS nomor_karis,
    p.status,
    p.pns_id
FROM
    pasangan p
WHERE
    p.pns_id = $1
`

type GetSpouseByEmployeeIDRow struct {
	Nama       sql.NullString `db:"nama"`
	Pns        sql.NullInt16  `db:"pns"`
	NomorKaris sql.NullString `db:"nomor_karis"`
	Status     sql.NullInt16  `db:"status"`
	PnsID      sql.NullString `db:"pns_id"`
}

func (q *Queries) GetSpouseByEmployeeID(ctx context.Context, pnsID sql.NullString) (GetSpouseByEmployeeIDRow, error) {
	row := q.db.QueryRow(ctx, getSpouseByEmployeeID, pnsID)
	var i GetSpouseByEmployeeIDRow
	err := row.Scan(
		&i.Nama,
		&i.Pns,
		&i.NomorKaris,
		&i.Status,
		&i.PnsID,
	)
	return i, err
}
